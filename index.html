<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BRICKS BREAKER</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Farcade SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@farcade/game-sdk@latest/dist/index.min.js"></script>
</head>
<body>
  <h1>BRICKS BREAKER</h1>
  <div id="game-container">
    <svg id="game" viewBox="0 0 408 480"></svg>
    <button id="restart-btn" style="display:none;">REPLAY</button>
  </div>

  <script>
    // Setup game variables (simplified for demo)
    let score = 0;
    let audioContext = null;

    // Gọi khi game sẵn sàng
    window.FarcadeSDK?.singlePlayer?.actions?.ready?.();

    // Khi game kết thúc
    function onGameOver() {
      window.FarcadeSDK?.singlePlayer?.actions?.gameOver?.({ score: score });
    }

    // Gọi khi có tương tác quan trọng (như đập gạch)
    function importantHit() {
      window.FarcadeSDK?.singlePlayer?.actions?.hapticFeedback?.();
    }

    // Người chơi chọn chơi lại
    window.FarcadeSDK?.on?.('play_again', () => {
      console.log('Play again triggered');
      // Gọi lại reset game ở đây nếu có
    });

    // Bật/tắt âm thanh
    window.FarcadeSDK?.on?.('toggle_mute', (data) => {
      if (audioContext) {
        if (data.isMuted) {
          audioContext.suspend();
        } else {
          audioContext.resume();
        }
      }
    });
  </script>
</body>
</html>
